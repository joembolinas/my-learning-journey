<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Modern IT Student's Hub: Mastering GitHub & VS Code</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Visualization & Content Choices: 
    - Report Info: Executive Summary -> Goal: Engage -> Viz: Interactive diagram (HTML/CSS) -> Interaction: Click-to-scroll -> Justification: Provides an immediate, interactive map of the app's core concepts.
    - Report Info: Ch 1 (GitHub Projects/Issues) -> Goal: Organize/Compare -> Viz: Simulated Kanban board & Issue detail view (HTML/CSS) -> Interaction: Draggable cards, toggleable content -> Justification: Makes the abstract concept of agile planning tangible and interactive.
    - Report Info: Ch 2 (Wikis/Markdown/Foam) -> Goal: Relationships -> Viz: Interactive bubble chart (Chart.js) -> Interaction: Hover to see connections/definitions -> Justification: Visually represents the "second brain" concept, showing how knowledge topics interconnect.
    - Report Info: Ch 3 (Writing in VS Code) -> Goal: Compare/Inform -> Viz: Side-by-side code/previewer (HTML/CSS) -> Interaction: Buttons to switch content (MD/LaTeX) -> Justification: Clearly demonstrates the writing and rendering process within a single, unified view.
    - Report Info: Ch 5 (GitHub Profile) -> Goal: Organize/Inform -> Viz: Simulated GitHub profile page (HTML/CSS) -> Interaction: Clickable elements (pinned repos) reveal modals with detailed READMEs -> Justification: Provides a concrete, best-practice example of the final portfolio output.
    All visualizations use Canvas (via Chart.js) or styled HTML/CSS, adhering to the NO SVG/Mermaid rule.
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #334155; /* slate-700 */
        }
        .nav-link {
            transition: color 0.3s ease, border-bottom-color 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active, .nav-link:hover {
            color: #0ea5e9; /* sky-500 */
            border-bottom-color: #0ea5e9; /* sky-500 */
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .kanban-card {
            cursor: grab;
            transition: background-color 0.2s, box-shadow 0.2s;
        }
        .kanban-card:active {
            cursor: grabbing;
            background-color: #f0f9ff; /* sky-50 */
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-slate-800">Student's Hub</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#overview" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-600">Overview</a>
                        <a href="#planner" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-600">Planner</a>
                        <a href="#knowledge" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-600">Knowledge Base</a>
                        <a href="#writer" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-600">Writing Studio</a>
                        <a href="#portfolio" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-600">Portfolio</a>
                    </div>
                </div>
                 <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-slate-500 hover:text-sky-500 hover:bg-slate-100 focus:outline-none">
                        <span class="sr-only">Open main menu</span>
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
             <div id="mobile-menu" class="md:hidden hidden pb-3">
                <a href="#overview" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-slate-600">Overview</a>
                <a href="#planner" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-slate-600">Planner</a>
                <a href="#knowledge" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-slate-600">Knowledge Base</a>
                <a href="#writer" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-slate-600">Writing Studio</a>
                <a href="#portfolio" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-slate-600">Portfolio</a>
            </div>
        </nav>
    </header>

    <main>
        <section id="overview" class="py-16 sm:py-24 text-center">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-bold tracking-tight text-slate-900 sm:text-5xl lg:text-6xl">Go Beyond Code</h2>
                <p class="mt-6 text-lg max-w-3xl mx-auto leading-8 text-slate-600">Transform GitHub and VS Code from development tools into a powerful, integrated hub for your entire academic journey in IT & Cybersecurity. This guide shows you how to organize, learn, write, and build your professional brand more effectively.</p>
                <div class="mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4">
                    <a href="#planner" class="group block p-6 bg-white rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all">
                        <h3 class="text-lg font-semibold text-slate-800 group-hover:text-sky-600">Plan & Organize</h3>
                        <p class="mt-2 text-sm text-slate-500">Master your coursework with agile project management techniques used by professionals.</p>
                    </a>
                    <a href="#knowledge" class="group block p-6 bg-white rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all">
                        <h3 class="text-lg font-semibold text-slate-800 group-hover:text-sky-600">Learn & Retain</h3>
                        <p class="mt-2 text-sm text-slate-500">Build a version-controlled "second brain" to connect concepts and supercharge your learning.</p>
                    </a>
                    <a href="#writer" class="group block p-6 bg-white rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all">
                        <h3 class="text-lg font-semibold text-slate-800 group-hover:text-sky-600">Write & Draft</h3>
                        <p class="mt-2 text-sm text-slate-500">Streamline academic writing for essays, reports, and theses in a distraction-free environment.</p>
                    </a>
                    <a href="#portfolio" class="group block p-6 bg-white rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all">
                        <h3 class="text-lg font-semibold text-slate-800 group-hover:text-sky-600">Showcase & Grow</h3>
                        <p class="mt-2 text-sm text-slate-500">Craft a dynamic, living portfolio that demonstrates your skills and dedication to employers.</p>
                    </a>
                </div>
            </div>
        </section>

        <section id="planner" class="py-16 sm:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-3xl mx-auto text-center">
                    <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">The Student Planner Hub</h2>
                    <p class="mt-4 text-lg text-slate-600">This section demonstrates how to use GitHub's project management tools to organize your academic life. By creating Kanban boards for your courses, you can visualize deadlines, track progress on assignments, and break down large projects into manageable tasks, just like an agile development team.</p>
                </div>

                <div class="mt-12 lg:grid lg:grid-cols-3 lg:gap-8">
                    <div class="lg:col-span-2">
                        <div class="bg-slate-100 p-4 rounded-lg shadow-inner">
                            <h3 class="font-semibold text-lg text-slate-800 mb-4">Interactive Kanban Board</h3>
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                <div class="bg-slate-200 rounded-lg p-3">
                                    <h4 class="font-semibold text-slate-700 mb-3">To Do</h4>
                                    <div class="space-y-3 kanban-column" id="todo">
                                        <div class="kanban-card bg-white p-3 rounded-md shadow-sm" draggable="true" data-issue="issue-1">
                                            <p class="font-medium text-sm text-slate-800">Draft Thesis Intro</p>
                                            <span class="text-xs font-medium bg-red-100 text-red-800 px-2 py-0.5 rounded-full">High Priority</span>
                                        </div>
                                        <div class="kanban-card bg-white p-3 rounded-md shadow-sm" draggable="true" data-issue="issue-2">
                                            <p class="font-medium text-sm text-slate-800">Complete Lab 3 Report</p>
                                            <span class="text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full">NetSec</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-slate-200 rounded-lg p-3">
                                    <h4 class="font-semibold text-slate-700 mb-3">In Progress</h4>
                                    <div class="space-y-3 kanban-column" id="inprogress">
                                        <div class="kanban-card bg-white p-3 rounded-md shadow-sm" draggable="true" data-issue="issue-3">
                                            <p class="font-medium text-sm text-slate-800">Research XSS vulnerabilities</p>
                                            <span class="text-xs font-medium bg-green-100 text-green-800 px-2 py-0.5 rounded-full">Web Security</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-slate-200 rounded-lg p-3">
                                    <h4 class="font-semibold text-slate-700 mb-3">Done</h4>
                                    <div class="space-y-3 kanban-column" id="done">
                                        <div class="kanban-card bg-white p-3 rounded-md shadow-sm" draggable="true" data-issue="issue-4">
                                            <p class="font-medium text-sm text-slate-800">Review Ch. 5 Cryptography</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 lg:mt-0">
                        <div class="bg-white p-6 rounded-lg shadow-lg" id="issue-details">
                            <h3 class="font-semibold text-lg text-slate-800 mb-2">Task Details</h3>
                            <p class="text-sm text-slate-500 mb-4">Click a card to see its details. This simulates a GitHub Issue, where you can add labels, track sub-tasks, and log your progress.</p>
                            <div id="issue-content">
                                <p class="text-center text-slate-400 italic">Select a task card</p>
                            </div>
                             <button id="breakdown-task-btn" class="hidden mt-4 w-full bg-sky-500 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition-colors">✨ Break Down Task</button>
                             <div id="breakdown-output" class="mt-4 text-sm text-slate-700 hidden"></div>
                             <div id="breakdown-loading" class="hidden mt-4 text-sm text-slate-500 text-center">Loading...</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="knowledge" class="py-16 sm:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-3xl mx-auto text-center">
                    <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">The Knowledge Base</h2>
                    <p class="mt-4 text-lg text-slate-600">This section illustrates how to create a personal "second brain." By using GitHub repositories and Markdown, you can build an interconnected, version-controlled knowledge graph of your learning. This moves beyond linear notes, helping you see relationships between complex topics in Cybersecurity and IT.</p>
                </div>

                <div class="mt-12 text-center">
                     <h3 class="text-xl font-semibold text-slate-800 mb-4">Your Interconnected Knowledge Graph</h3>
                    <div class="chart-container">
                        <canvas id="knowledgeGraph"></canvas>
                    </div>
                    <p class="mt-4 text-sm text-slate-500">Hover over nodes to see connections and explore concepts.</p>
                </div>
            </div>
        </section>
        
        <section id="writer" class="py-16 sm:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-3xl mx-auto text-center">
                    <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">The Writing Studio</h2>
                    <p class="mt-4 text-lg text-slate-600">This interactive module shows how VS Code becomes a powerful environment for all your academic writing. Use Markdown for clean, simple drafts of essays and reports, or switch to LaTeX for complex formatting in research papers and theses, all within the same tool you use for coding.</p>
                </div>
                
                <div class="mt-12 max-w-6xl mx-auto">
                    <div class="flex justify-center items-center space-x-2 mb-4">
                        <button class="writer-btn active bg-sky-500 text-white px-4 py-2 rounded-md text-sm font-medium" data-content="essay">Essay (Markdown)</button>
                        <button class="writer-btn bg-slate-200 text-slate-700 px-4 py-2 rounded-md text-sm font-medium" data-content="report">Lab Report (MD)</button>
                        <button class="writer-btn bg-slate-200 text-slate-700 px-4 py-2 rounded-md text-sm font-medium" data-content="thesis">Thesis (LaTeX)</button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 bg-slate-800 rounded-lg p-4 shadow-2xl">
                        <div>
                            <div class="flex items-center justify-between bg-slate-900 rounded-t-md px-4 py-2">
                                <span class="text-sm font-mono text-slate-400">source-code.md</span>
                                <div class="flex space-x-2">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                </div>
                            </div>
                            <div id="writer-source" class="bg-slate-800 p-4 text-white font-mono text-sm overflow-x-auto h-96"></div>
                            <div class="flex justify-center items-center space-x-2 mt-4">
                                <button id="generate-outline-btn" class="bg-blue-500 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-600 transition-colors">✨ Generate Outline</button>
                                <button id="continue-text-btn" class="bg-green-500 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-600 transition-colors">✨ Continue Text</button>
                            </div>
                            <div id="writer-loading" class="hidden mt-4 text-sm text-slate-500 text-center">Loading...</div>
                        </div>
                        <div>
                            <div class="flex items-center justify-between bg-slate-200 rounded-t-md px-4 py-2">
                                 <span class="text-sm font-semibold text-slate-600">Rendered Preview</span>
                            </div>
                            <div id="writer-preview" class="bg-white p-4 overflow-y-auto h-96 prose prose-sm max-w-none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="portfolio" class="py-16 sm:py-24">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-3xl mx-auto text-center">
                    <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">Your Professional Portfolio</h2>
                    <p class="mt-4 text-lg text-slate-600">Your GitHub profile is your living resume. This final section provides an interactive mock-up of a well-curated profile. Learn how to pin your best work, write compelling project descriptions, and use your entire history of academic work and learning as a powerful asset to impress recruiters.</p>
                </div>
                
                <div class="mt-12 max-w-5xl mx-auto bg-white rounded-lg shadow-xl overflow-hidden">
                    <div class="p-6 sm:p-8">
                        <div class="flex items-center space-x-6">
                            <div class="flex-shrink-0 w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-slate-300"></div>
                            <div>
                                <h3 class="text-2xl font-bold text-slate-900">Your Name</h3>
                                <p class="text-slate-500">@your-github-username</p>
                                <p class="mt-2 text-slate-700">BS IT student passionate about network security and ethical hacking. Building secure and resilient systems.</p>
                            </div>
                        </div>

                        <div class="mt-8">
                             <h4 class="text-lg font-semibold text-slate-800 mb-4">Pinned Repositories</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div id="repo-1" class="portfolio-repo group border border-slate-200 rounded-lg p-4 cursor-pointer hover:bg-sky-50 transition-colors">
                                    <h5 class="font-bold text-sky-600">Vulnerability Scanner</h5>
                                    <p class="text-sm text-slate-500 mt-1">A Python-based tool to scan web applications for common security vulnerabilities like XSS and SQLi.</p>
                                    <span class="text-xs font-mono mt-2 inline-block">Python</span>
                                </div>
                                <div id="repo-2" class="portfolio-repo group border border-slate-200 rounded-lg p-4 cursor-pointer hover:bg-sky-50 transition-colors">
                                    <h5 class="font-bold text-sky-600">Learning Journey Log</h5>
                                    <p class="text-sm text-slate-500 mt-1">My complete, version-controlled notes and reflections on all my university courses and personal study.</p>
                                    <span class="text-xs font-mono mt-2 inline-block">Markdown</span>
                                </div>
                            </div>
                        </div>

                         <div class="mt-8">
                             <h4 class="text-lg font-semibold text-slate-800 mb-4">Contribution Activity</h4>
                             <div class="bg-slate-100 p-4 rounded-lg">
                                <div class="grid grid-cols-12 gap-1">
                                </div>
                                <p class="text-xs text-center mt-2 text-slate-500">A visual record of your consistent dedication and learning.</p>
                             </div>
                         </div>
                    </div>
                </div>
             </div>
        </section>
    </main>

    <div id="modal-backdrop" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden"></div>
    <div id="readme-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="font-bold text-lg text-slate-800">README.md</h3>
                <button id="close-modal-btn" class="text-slate-500 hover:text-slate-800">&times;</button>
            </div>
            <div id="modal-content" class="p-6 overflow-y-auto prose prose-sm max-w-none">
            </div>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', function() {
        
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });


        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('main > section');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href').substring(1) === entry.target.id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, { threshold: 0.5 });

        sections.forEach(section => {
            observer.observe(section);
        });
        
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if(mobileMenu.classList.contains('hidden') === false) {
                   mobileMenu.classList.add('hidden');
                }
            })
        })


        const kanbanCards = document.querySelectorAll('.kanban-card');
        const kanbanColumns = document.querySelectorAll('.kanban-column');
        let draggedItem = null;
        let currentSelectedIssueId = null; // To store the ID of the currently selected task

        kanbanCards.forEach(card => {
            card.addEventListener('dragstart', () => {
                draggedItem = card;
                setTimeout(() => card.style.display = 'none', 0);
            });
            card.addEventListener('dragend', () => {
                setTimeout(() => {
                    draggedItem.style.display = 'block';
                    draggedItem = null;
                }, 0);
            });
        });

        kanbanColumns.forEach(column => {
            column.addEventListener('dragover', e => e.preventDefault());
            column.addEventListener('dragenter', e => e.preventDefault());
            column.addEventListener('drop', e => {
                e.preventDefault();
                column.appendChild(draggedItem);
            });
        });
        
        const issueDetails = {
            'issue-1': {
                title: 'Draft Thesis Introduction',
                labels: ['Thesis', 'Writing', 'High-Priority'],
                milestone: 'Final Project Submission',
                tasks: [
                    { text: 'Outline key arguments', done: true },
                    { text: 'Write first draft', done: false },
                    { text: 'Proofread and cite sources', done: false },
                ]
            },
            'issue-2': {
                title: 'Complete Lab 3 Report',
                labels: ['NetSec', 'Lab Report'],
                milestone: 'Mid-term Exam Prep',
                tasks: [
                    { text: 'Document SIEM configuration', done: true },
                    { text: 'Analyze log data', done: true },
                    { text: 'Write summary and conclusion', done: false },
                ]
            },
            'issue-3': {
                title: 'Research XSS vulnerabilities',
                labels: ['Web Security', 'Research'],
                milestone: 'Mid-term Exam Prep',
                tasks: [
                    { text: 'Identify common XSS vectors', done: true },
                    { text: 'Find academic papers on mitigation', done: true },
                    { text: 'Summarize findings for project', done: true },
                ]
            },
            'issue-4': {
                title: 'Review Ch. 5 Cryptography',
                labels: ['Crypto', 'Study'],
                milestone: 'Mid-term Exam Prep',
                tasks: [
                    { text: 'Read chapter content', done: true },
                    { text: 'Complete practice problems', done: true },
                    { text: 'Create flashcards for key terms', done: true },
                ]
            }
        };

        const issueContentContainer = document.getElementById('issue-content');
        const breakdownTaskBtn = document.getElementById('breakdown-task-btn');
        const breakdownOutput = document.getElementById('breakdown-output');
        const breakdownLoading = document.getElementById('breakdown-loading');

        kanbanCards.forEach(card => {
            card.addEventListener('click', () => {
                const issueId = card.dataset.issue;
                const data = issueDetails[issueId];
                if (!data) return;

                currentSelectedIssueId = issueId; // Set the currently selected issue ID

                let labelsHtml = data.labels.map(label => `<span class="text-xs font-medium bg-gray-200 text-gray-800 px-2 py-0.5 rounded-full">${label}</span>`).join(' ');
                let tasksHtml = data.tasks.map(task => `
                    <li class="flex items-center">
                        <input type="checkbox" ${task.done ? 'checked' : ''} class="h-4 w-4 rounded border-gray-300 text-sky-600 focus:ring-sky-500" disabled>
                        <label class="ml-2 text-sm text-slate-600 ${task.done ? 'line-through' : ''}">${task.text}</label>
                    </li>
                `).join('');

                issueContentContainer.innerHTML = `
                    <h4 class="font-bold text-slate-800">${data.title}</h4>
                    <div class="flex flex-wrap gap-1 my-2">${labelsHtml}</div>
                    <div class="mt-3">
                        <p class="text-sm font-semibold text-slate-700">Milestone: ${data.milestone}</p>
                    </div>
                    <ul class="mt-3 space-y-2">${tasksHtml}</ul>
                `;
                breakdownTaskBtn.classList.remove('hidden');
                breakdownOutput.classList.add('hidden'); // Hide previous breakdown
            });
        });

        breakdownTaskBtn.addEventListener('click', async () => {
            if (!currentSelectedIssueId) return;

            const taskTitle = issueDetails[currentSelectedIssueId].title;
            breakdownLoading.classList.remove('hidden');
            breakdownOutput.classList.add('hidden'); // Hide previous output
            breakdownTaskBtn.disabled = true; // Disable button during loading

            try {
                const prompt = `Break down the following academic task into 3-5 specific, actionable sub-tasks. Provide the output as a markdown unordered list. Task: "${taskTitle}"`;
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    // Simple markdown to HTML conversion for list
                    const htmlContent = text.split('\n').map(line => {
                        if (line.startsWith('- ')) {
                            return `<li>${line.substring(2).trim()}</li>`;
                        }
                        return line;
                    }).join('');
                    breakdownOutput.innerHTML = `<h5 class="font-semibold mt-4">Suggested Sub-tasks:</h5><ul class="list-disc pl-5">${htmlContent}</ul>`;
                    breakdownOutput.classList.remove('hidden');
                } else {
                    breakdownOutput.innerHTML = `<p class="text-red-500">Error: Could not generate breakdown.</p>`;
                    breakdownOutput.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                breakdownOutput.innerHTML = `<p class="text-red-500">Error: Failed to connect to AI service.</p>`;
                breakdownOutput.classList.remove('hidden');
            } finally {
                breakdownLoading.classList.add('hidden');
                breakdownTaskBtn.disabled = false; // Re-enable button
            }
        });


        const ctx = document.getElementById('knowledgeGraph').getContext('2d');
        const knowledgeData = {
            datasets: [{
                label: 'Knowledge Nodes',
                data: [
                    { x: 0, y: 0, r: 30, label: 'Cybersecurity' },
                    { x: -4, y: 5, r: 20, label: 'Network Security' },
                    { x: 5, y: 4, r: 20, label: 'Cryptography' },
                    { x: 5, y: -5, r: 20, label: 'Web Security' },
                    { x: -6, y: -4, r: 20, label: 'Incident Response' },
                    { x: -6, y: 8, r: 12, label: 'TCP/IP' },
                    { x: -2, y: 9, r: 12, label: 'Firewalls' },
                    { x: 7, y: 7, r: 12, label: 'AES' },
                    { x: 3, y: 8, r: 12, label: 'RSA' },
                    { x: 8, y: -2, r: 12, label: 'XSS' },
                    { x: 3, y: -9, r: 12, label: 'SQLi' },
                    { x: -9, y: -1, r: 12, label: 'Playbooks' },
                    { x: -5, y: -8, r: 12, label: 'Forensics' },
                ],
                backgroundColor: 'rgba(14, 165, 233, 0.6)',
                borderColor: 'rgba(14, 165, 233, 1)',
                borderWidth: 1
            }],
        };
        new Chart(ctx, {
            type: 'bubble',
            data: knowledgeData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.raw.label;
                            }
                        }
                    }
                },
                scales: {
                    x: { display: false },
                    y: { display: false }
                }
            }
        });

        const writerBtns = document.querySelectorAll('.writer-btn');
        const sourceDiv = document.getElementById('writer-source');
        const previewDiv = document.getElementById('writer-preview');
        const generateOutlineBtn = document.getElementById('generate-outline-btn');
        const continueTextBtn = document.getElementById('continue-text-btn');
        const writerLoading = document.getElementById('writer-loading');
        
        const writerContent = {
            essay: {
                source: `# The Ethics of AI in Cybersecurity\n\n## Introduction\nArtificial Intelligence (AI) is a double-edged sword in the domain of cybersecurity. While it offers unprecedented capabilities for threat detection and response, it also introduces novel ethical dilemmas that practitioners must navigate. This essay explores...\n\n### Key Considerations\n- **Bias in AI models:** Training data can lead to biased algorithms that disproportionately flag certain user groups.\n- **Autonomous weapons:** The development of AI-powered cyberweapons raises concerns about accountability.\n- **Privacy:** AI's ability to analyze vast datasets poses a significant threat to individual privacy.`,
                preview: `<h1>The Ethics of AI in Cybersecurity</h1><h2>Introduction</h2><p>Artificial Intelligence (AI) is a double-edged sword in the domain of cybersecurity. While it offers unprecedented capabilities for threat detection and response, it also introduces novel ethical dilemmas that practitioners must navigate. This essay explores...</p><h3>Key Considerations</h3><ul><li><strong>Bias in AI models:</strong> Training data can lead to biased algorithms that disproportionately flag certain user groups.</li><li><strong>Autonomous weapons:</strong> The development of AI-powered cyberweapons raises concerns about accountability.</li><li><strong>Privacy:</strong> AI's ability to analyze vast datasets poses a significant threat to individual privacy.</li></ul>`
            },
            report: {
                source: `## Lab Report 3: SIEM Configuration\n\n**Objective:** To configure a Security Information and Event Management (SIEM) system to detect suspicious network activity.\n\n\`\`\`python\n# Sample detection rule\ndef detect_brute_force(logs):\n  failed_logins = {} \n  for log in logs:\n    if log['status'] == 'failure':\n      ip = log['source_ip']\n      failed_logins[ip] = failed_logins.get(ip, 0) + 1\n  return [ip for ip, count in failed_logins.items() if count > 5]\n\`\`\`\n\n**Findings:** The configured rule successfully identified a simulated brute-force attack originating from \`192.168.1.105\`.`,
                preview: `<h2>Lab Report 3: SIEM Configuration</h2><p><strong>Objective:</strong> To configure a Security Information and Event Management (SIEM) system to detect suspicious network activity.</p><pre><code class="language-python"># Sample detection rule\ndef detect_brute_force(logs):\n  failed_logins = {} \n  for log in logs:\n    if log['status'] == 'failure':\n      ip = log['source_ip']\n      failed_logins[ip] = failed_logins.get(ip, 0) + 1\n  return [ip for ip, count in failed_logins.items() if count > 5]\n</code></pre><p><strong>Findings:</strong> The configured rule successfully identified a simulated brute-force attack originating from <code>192.168.1.105</code>.</p>`
            },
            thesis: {
                source: `\\documentclass{article}\n\\title{Mitigating DDoS Attacks on IoT Networks}\n\\author{Your Name}\n\\date{\\today}\n\n\\begin{document}\n\\maketitle\n\n\\section{Introduction}\nAn Internet of Things (IoT) network is highly susceptible to Distributed Denial-of-Service (DDoS) attacks due to the limited computational resources of individual devices. The equation for packet velocity $v$ can be modeled as:\n\n$$ v = \\frac{\\sum_{i=1}^{n} p_i}{t} $$\n\nWhere $p_i$ is the size of packet $i$ and $t$ is time.\n\n\\end{document}`,
                preview: `<h3>Thesis Snippet (LaTeX)</h3><p>This demonstrates using LaTeX for documents requiring formal structure and mathematical formulas, which is common for a thesis or research paper.</p><div class="p-4 border rounded bg-gray-50 font-serif"><p>\\documentclass{article}<br>\\title{Mitigating DDoS Attacks on IoT Networks}<br>...<br>\\section{Introduction}<br>An Internet of Things (IoT) network is highly susceptible...<br>$$ v = \\frac{\\sum_{i=1}^{n} p_i}{t} $$<br>...</p></div>`
            }
        };

        function updateWriter(contentKey) {
            sourceDiv.innerText = writerContent[contentKey].source;
            previewDiv.innerHTML = writerContent[contentKey].preview;
            writerBtns.forEach(btn => {
                btn.classList.remove('active', 'bg-sky-500', 'text-white');
                btn.classList.add('bg-slate-200', 'text-slate-700');
                if (btn.dataset.content === contentKey) {
                    btn.classList.add('active', 'bg-sky-500', 'text-white');
                    btn.classList.remove('bg-slate-200', 'text-slate-700');
                }
            });
        }
        
        writerBtns.forEach(btn => {
            btn.addEventListener('click', () => updateWriter(btn.dataset.content));
        });
        
        updateWriter('essay');

        generateOutlineBtn.addEventListener('click', async () => {
            const currentText = sourceDiv.innerText;
            writerLoading.classList.remove('hidden');
            generateOutlineBtn.disabled = true;
            continueTextBtn.disabled = true;

            try {
                const prompt = `Generate a detailed academic outline for an essay or report based on the following text. Focus on main sections and key sub-points. Provide the output as a markdown document.\n\nText:\n${currentText}`;
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    sourceDiv.innerText = text; // Replace current content with the outline
                    previewDiv.innerHTML = marked.parse(text); // Update preview
                } else {
                    console.error('Error: Could not generate outline.');
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
            } finally {
                writerLoading.classList.add('hidden');
                generateOutlineBtn.disabled = false;
                continueTextBtn.disabled = false;
            }
        });

        continueTextBtn.addEventListener('click', async () => {
            const currentText = sourceDiv.innerText;
            writerLoading.classList.remove('hidden');
            generateOutlineBtn.disabled = true;
            continueTextBtn.disabled = true;

            try {
                const prompt = `Continue the following academic text. Add a paragraph or two that logically extends the current content. Provide only the continuation text.\n\nText:\n${currentText}`;
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    sourceDiv.innerText += `\n\n${text}`; // Append generated text
                    previewDiv.innerHTML = marked.parse(sourceDiv.innerText); // Update preview
                } else {
                    console.error('Error: Could not continue text.');
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
            } finally {
                writerLoading.classList.add('hidden');
                generateOutlineBtn.disabled = false;
                continueTextBtn.disabled = false;
            }
        });


        const contribGrid = document.querySelector('#portfolio .grid-cols-12');
        for (let i = 0; i < 84; i++) {
            const intensity = Math.random();
            let colorClass = 'bg-slate-200';
            if (intensity > 0.4) colorClass = 'bg-sky-200';
            if (intensity > 0.7) colorClass = 'bg-sky-400';
            if (intensity > 0.9) colorClass = 'bg-sky-600';
            const cell = document.createElement('div');
            cell.className = `w-4 h-4 rounded-sm ${colorClass}`;
            contribGrid.appendChild(cell);
        }
        
        const modal = document.getElementById('readme-modal');
        const modalBackdrop = document.getElementById('modal-backdrop');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const modalContent = document.getElementById('modal-content');
        const repos = document.querySelectorAll('.portfolio-repo');

        const readmeContent = {
            'repo-1': `
                <h1>Vulnerability Scanner</h1>
                <p>A Python-based tool to scan web applications for common security vulnerabilities. This project was developed as part of my Web Security course.</p>
                <h2>Problem Solved</h2>
                <p>Automates the tedious process of manually checking for basic vulnerabilities like Cross-Site Scripting (XSS) and SQL Injection (SQLi), allowing developers to quickly identify and patch potential security holes.</p>
                <h2>Technologies Used</h2>
                <ul>
                    <li>Python</li>
                    <li>Requests (for HTTP requests)</li>
                    <li>BeautifulSoup4 (for parsing HTML)</li>
                </ul>
                <h2>Challenges & Learning</h2>
                <p>One of the main challenges was crafting payloads that could effectively test for vulnerabilities without causing damage. I learned a great deal about how these attacks work at a fundamental level and the importance of input sanitization.</p>
            `,
            'repo-2': `
                <h1>Learning Journey Log</h1>
                <p>This repository serves as a comprehensive, version-controlled log of my academic journey. It contains all my notes, reflections, and summaries for university courses and personal study topics.</p>
                <h2>Purpose</h2>
                <p>To apply the "DOCUMENT, don't create" philosophy to my learning. By consistently documenting what I learn, I enhance retention, create a searchable knowledge base, and track my intellectual growth over time. It's my personal "second brain."</p>
                <h2>Structure</h2>
                <p>The repository is organized by subject, with each folder containing Markdown files for specific topics, lectures, or concepts. This structured approach makes information easy to find and review.</p>
                <h2>Key Takeaway</h2>
                <p>This project demonstrates a commitment to continuous, organized learning and self-improvement, key attributes for any tech professional.</p>
            `
        };

        function showModal(repoId) {
            modalContent.innerHTML = readmeContent[repoId];
            modal.classList.remove('hidden');
            modalBackdrop.classList.remove('hidden');
        }

        function hideModal() {
            modal.classList.add('hidden');
            modalBackdrop.classList.add('hidden');
        }
        
        repos.forEach(repo => {
            repo.addEventListener('click', () => showModal(repo.id));
        });
        
        closeModalBtn.addEventListener('click', hideModal);
        modalBackdrop.addEventListener('click', hideModal);

        // Simple marked.js for markdown parsing
        // This is a very basic implementation. For a full-featured markdown parser,
        // you would typically include a library like marked.js via CDN.
        // For this example, we'll simulate a basic markdown to HTML conversion.
        const marked = {
            parse: function(markdown) {
                let html = markdown
                    .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                    .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                    .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                    .replace(/^\* (.*$)/gim, '<li>$1</li>')
                    .replace(/^- (.*$)/gim, '<li>$1</li>')
                    .replace(/\*\*(.*)\*\*/gim, '<strong>$1</strong>')
                    .replace(/`(.*?)`/gim, '<code>$1</code>')
                    .replace(/\n\n/gim, '</p><p>')
                    .replace(/\n/gim, '<br>');
                return `<p>${html}</p>`;
            }
        };

    });
    </script>

</body>
</html>
